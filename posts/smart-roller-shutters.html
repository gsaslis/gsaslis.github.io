<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yorgos Saslis | How-to: Smart Roller Shutters</title>
  <meta name="description" content="How to convert your existing roller shutters, so you can operate them from your mobile phone">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="How-to: Smart Roller Shutters">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://gsaslis.github.io/posts/smart-roller-shutters">
  <meta property="og:description" content="How to convert your existing roller shutters, so you can operate them from your mobile phone">
  <meta property="og:site_name" content="Yorgos Saslis">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://gsaslis.github.io/posts/smart-roller-shutters">
  <meta name="twitter:title" content="How-to: Smart Roller Shutters">
  <meta name="twitter:description" content="How to convert your existing roller shutters, so you can operate them from your mobile phone">

  
    <meta property="og:image" content="https://gsaslis.github.io/assets/og-image-2ee4984c01f7bf66772ca7e6f729c9e93905dce8ef7688a56dcdf57c38e6ad26.png">
    <meta name="twitter:image" content="https://gsaslis.github.io/assets/og-image-2ee4984c01f7bf66772ca7e6f729c9e93905dce8ef7688a56dcdf57c38e6ad26.png">
  

  <link href="https://gsaslis.github.io/feed.xml" type="application/rss+xml" rel="alternate" title="Yorgos Saslis Last 10 blog posts" />

  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-light-d5801d06410d8e99a9f1a0a91d294240c809fc7e3e89428e2e54fa8c44121777.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-400382f1c93627c7e795715635ee93ff3c8cabfac63ba99966efbd9c1a0a734b.png">
      <link rel="stylesheet" type="text/css" href="/assets/light-9c570dbf67317767203aaee0804570dad3a87129a343653d8b34a5b912f84802.css">
    

  

</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="Yorgos Saslis">Yorgos Saslis</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    

    <li>
      <a rel="me" href="https://chaos.social/@yorgos" target="_blank" title="Follow me on Mastodon">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon-mastodon">
  <use href="/assets/mastodon-918f931d08b6b6118820472e88a8c4bb29e0dbf637f0fdb17cc884c21a65102b.svg#icon-mastodon" xlink:href="/assets/mastodon-918f931d08b6b6118820472e88a8c4bb29e0dbf637f0fdb17cc884c21a65102b.svg#icon-mastodon"></use>
</svg>

      </a>
    </li>

    
      <li>
        <a href="https://twitter.com/gsaslis" rel="noreferrer noopener" target="_blank" title="I don't really use Twitter any more">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/gsaslis" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://stackoverflow.com/users/983387" rel="noreferrer noopener" target="_blank" title="Stack Overflow">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-stackoverflow">
  <use href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow" xlink:href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://keybase.io/yorgos" rel="noreferrer noopener" target="_blank" title="Keybase">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-keybase">
  <use href="/assets/keybase-4004cb8fb3e3f1f748f19fbea8a591d0bf5a00865e53977d673f2b09fcabf6e4.svg#icon-keybase" xlink:href="/assets/keybase-4004cb8fb3e3f1f748f19fbea8a591d0bf5a00865e53977d673f2b09fcabf6e4.svg#icon-keybase"></use>
</svg>

        </a>
      </li>
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/gsaslis" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
    
  </ul>
</nav>



        <article class="article scrollappear">
          <header class="article-header">
            <h1>How-to: Smart Roller Shutters</h1>
            <p>How to convert your existing roller shutters, so you can operate them from your mobile phone</p>
            <div class="article-list-footer">
  <span class="article-list-date">
    October 26, 2022
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      4 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/home automation" title="See all posts with tag ''"></a>
    
      
      <a href="/tag/home assistant" title="See all posts with tag ''"></a>
    
      
      <a href="/tag/iot" title="See all posts with tag ''"></a>
    
      
      <a href="/tag/smart home" title="See all posts with tag ''"></a>
    
  </div>
</div>
          </header>

          <div class="article-content">
            <h2 id="requirements">Requirements</h2>

<p>The easiest way to convert your existing roller shutters in remote-controlled “smart” roller shutters involves
adding a single device behind your existing wall switch.</p>

<p>Let’s say you have a wall switch like this:</p>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutters-switch-cba0d89f09f46894807b6d0de460b1c4123f0359be77e671502ad744f124349a.jpg">
     <img src="/assets/posts/roller_shutters/roller_shutters-switch-cba0d89f09f46894807b6d0de460b1c4123f0359be77e671502ad744f124349a.jpg" alt="Roller Shutter Switch" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutters-switch-cba0d89f09f46894807b6d0de460b1c4123f0359be77e671502ad744f124349a.jpg" data-zooming-width="3024" data-zooming-height="4032" />
   </a>
  <figcaption>
    Roller Shutter Switch
  </figcaption>
 </figure>

<p>Here’s what else you’ll need:</p>

<ul>
  <li>A wall switch to operate your roller shutters</li>
  <li>A neutral wire available behind your wall switch</li>
  <li>A Shelly 2.5</li>
  <li>Enough depth behind your wall switch for the Shelly 2.5 to fit</li>
</ul>

<p><strong>Total Cost:</strong> ~ 30 EUR per switch</p>

<p><strong>Expected time:</strong> if you already have a Neutral wire installed - a couple of hours.</p>

<h2 id="installation">Installation</h2>

<p>With a Neutral wire in place, the installation is pretty straightforward (even if it does feel intimidating 
if this is your first time - it was the same for me!).</p>

<p>Here’s how it goes:</p>

<p>The wall switch will probably have 3 wires going into it:</p>

<ul>
  <li>Line</li>
  <li>One return to the UP direction</li>
  <li>One return to the DOWN direction</li>
</ul>

<p>Here’s how Shelly recommend that you connect:</p>

<figure>
   <a href="/assets/posts/roller_shutters/Shelly-25-ac-Wiring-1341167975-a03af33195fdf2db111e255d484a933184a17445946e83aeb2d448d9587d5475.png">
     <img src="/assets/posts/roller_shutters/Shelly-25-ac-Wiring-1341167975-a03af33195fdf2db111e255d484a933184a17445946e83aeb2d448d9587d5475.png" alt="Shelly Wiring" class="zooming" data-rjs="/assets/posts/roller_shutters/Shelly-25-ac-Wiring-1341167975-a03af33195fdf2db111e255d484a933184a17445946e83aeb2d448d9587d5475.png" data-zooming-width="700" data-zooming-height="700" />
   </a>
  <figcaption>
    Shelly Wiring
  </figcaption>
 </figure>

<p>So, with that in mind, here is what you have to do:</p>

<ul>
  <li>O1 (Output 1): connect here the cable that <strong>was</strong> connected to your UP switch (and make a note of where on your switch this cable was connected, you’ll need it below)</li>
  <li>O2 (Output 2): connect here the cable that <strong>was</strong> connected to your DOWN switch (and make a note of where on your switch this cable was connected, you’ll need it below)</li>
  <li>SW1 (Switch 1): connect to your wall switch, at the same connection point where your UP was</li>
  <li>SW2 (Switch 2): connect to your wall switch, at the same connection point where your DOWN was</li>
  <li>L: You need <strong>two</strong> line cables going into the Shelly. These can be bridged with the existing Line cable that was going into your roller shutters wall switch.</li>
  <li>N: The Neutral wire that should exist behind your wall switch.</li>
</ul>

<p>Here are a few photos from a real world installation:</p>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutters-installation1-556afabf6e9e7da86fb7c3b906c7b9ca3d1665e4170ed1c458de51d82713f05f.jpg">
     <img src="/assets/posts/roller_shutters/roller_shutters-installation1-556afabf6e9e7da86fb7c3b906c7b9ca3d1665e4170ed1c458de51d82713f05f.jpg" alt="Shelly Installation 1" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutters-installation1-556afabf6e9e7da86fb7c3b906c7b9ca3d1665e4170ed1c458de51d82713f05f.jpg" data-zooming-width="3456" data-zooming-height="4608" />
   </a>
  <figcaption>
    Shelly Installation 1
  </figcaption>
 </figure>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutters-installation2-f9391ea5b23ed7f1d4f501f91430afdc96d7b72b8405790b308afbeaf971c80b.jpg">
     <img src="/assets/posts/roller_shutters/roller_shutters-installation2-f9391ea5b23ed7f1d4f501f91430afdc96d7b72b8405790b308afbeaf971c80b.jpg" alt="Shelly Installation 2" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutters-installation2-f9391ea5b23ed7f1d4f501f91430afdc96d7b72b8405790b308afbeaf971c80b.jpg" data-zooming-width="3456" data-zooming-height="4608" />
   </a>
  <figcaption>
    Shelly Installation 2
  </figcaption>
 </figure>

<h2 id="shelly-setup">Shelly setup</h2>

<h3 id="ensure-coiot-is-enabled">Ensure CoIoT is enabled</h3>

<ul>
  <li><code class="highlighter-rouge">Internet &amp; Security =&gt; Advanced - Developer Settings</code></li>
  <li>Ensure there is an “Enable CoIoT” option there. If not, you will need to update to the latest firmware - see below.</li>
</ul>

<h3 id="connect-to-wifi-and-update-firmware-optional-steps">Connect to WiFi and Update Firmware (optional steps)</h3>

<p>Just documenting here my own steps - this will probably be different for everyone:</p>

<ul>
  <li>Connect Shelly to Guest WiFi (with internet access, but no connection to other home networks).</li>
  <li>Update the firmware to the latest.</li>
  <li>Connect Shelly to the IoT WiFi (no internet access)</li>
  <li>Assign a static IP</li>
</ul>

<h3 id="roller-shutter-setting">Roller Shutter setting</h3>

<ul>
  <li>Connect to the Shelly web interface through the static IP.</li>
  <li>Change the Shelly to operate as a roller shutter:  <code class="highlighter-rouge">Settings =&gt; Device Type =&gt; Roller Shutter</code></li>
  <li>Check that when pressing UP and DOWN your roller shutter moves UP and DOWN accordingly. If not - no need to change the cables around! Play around with the below 2 settings: <code class="highlighter-rouge">Settings =&gt; Reverse Directions =&gt; Enable the Checkbox</code> and <code class="highlighter-rouge">Settings =&gt; Swap Inputs</code>.</li>
  <li>Ensure the <strong>Button type</strong> is also correctly set. If you try to stop the roller shutter from the wall switch but it doesn’t stop, you might need to change the Shelly Button type to Momentary switch.</li>
</ul>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutter-settings-dbd7a8508a6d14e47997dfc17456b498b5bbcacfc18b28368905b851372f72a8.png">
     <img src="/assets/posts/roller_shutters/roller_shutter-settings-dbd7a8508a6d14e47997dfc17456b498b5bbcacfc18b28368905b851372f72a8.png" alt="Shelly Roller Shutter Settings" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutter-settings-dbd7a8508a6d14e47997dfc17456b498b5bbcacfc18b28368905b851372f72a8.png" data-zooming-width="638" data-zooming-height="1190" />
   </a>
  <figcaption>
    Shelly Roller Shutter Settings
  </figcaption>
 </figure>

<h3 id="calibration">Calibration</h3>

<p>Once the buttons are correctly configured, it’s now time to let Shelly calibrate itself for your roller shutter positions. It will go up and down a few times (don’t worry if it happens more than once)</p>

<ul>
  <li>The calibrate option is available under <code class="highlighter-rouge">Settings =&gt; Positioning Controls</code>.</li>
</ul>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutter-calibrate-f7c9bdb5e4108a606aa98cf4150dbe7eb2042fffe89867c9d62d0ef727ff0bac.png">
     <img src="/assets/posts/roller_shutters/roller_shutter-calibrate-f7c9bdb5e4108a606aa98cf4150dbe7eb2042fffe89867c9d62d0ef727ff0bac.png" alt="Roller Shutter Calibrate" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutter-calibrate-f7c9bdb5e4108a606aa98cf4150dbe7eb2042fffe89867c9d62d0ef727ff0bac.png" data-zooming-width="2880" data-zooming-height="1364" />
   </a>
  <figcaption>
    Roller Shutter Calibrate
  </figcaption>
 </figure>

<h3 id="add-to-home-assistant">Add to Home Assistant</h3>

<p>With that, it is now time to add the roller shutters to Home Assistant!</p>

<ul>
  <li>With CoIoT enabled, there is 1 more step recommended - switching from multicast to unicast: Go to <code class="highlighter-rouge">Internet &amp; Security =&gt; Advanced - Developer Settings</code> and change the <code class="highlighter-rouge">mcast</code> value to your Home Assistant IP and CoIoT port. e.g. <code class="highlighter-rouge">192.168.100.100:5683</code>. With that, the Shelly 2.5 switch should appear in your Shelly integration (ensure you have that integration installed).</li>
  <li>You should receive a notification about the new device. If not, a restart of Home Assistant might help.</li>
  <li>
    <p>You should now have a new <code class="highlighter-rouge">cover</code> entity available in your Home Assistant, which you can add to your Dashboards, Scenes and Automations!! 🎉🎉🎉</p>
  </li>
  <li>Bonus: for extra fun 🥳 , try out the custom Roller Shutter card from HACS:  https://github.com/Deejayfool/hass-shutter-card</li>
</ul>

<figure>
   <a href="/assets/posts/roller_shutters/roller_shutter-home_assistant_card-ab44f8b9a064d88425ba9964290b4d65ea540a66b506e6909e35b98565eb95ed.png">
     <img src="/assets/posts/roller_shutters/roller_shutter-home_assistant_card-ab44f8b9a064d88425ba9964290b4d65ea540a66b506e6909e35b98565eb95ed.png" alt="Home Assistant Roller Shutter Card" class="zooming" data-rjs="/assets/posts/roller_shutters/roller_shutter-home_assistant_card-ab44f8b9a064d88425ba9964290b4d65ea540a66b506e6909e35b98565eb95ed.png" data-zooming-width="481" data-zooming-height="304" />
   </a>
  <figcaption>
    Home Assistant Roller Shutter Card
  </figcaption>
 </figure>

<h2 id="credits">Credits</h2>

<p>Big shout out to <a href="https://twitter.com/mzampetakis">Michalis</a> for all his help putting this guide together !! 🙏 🍻</p>

<h3 id="home-assistant-configuration">Home Assistant Configuration</h3>

<p>You can find all my Home Assistant configuration <a href="https://github.com/gsaslis/home-assistant-config/">here</a>.</p>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=How-to:+Smart+Roller+Shutters%20-%20https://gsaslis.github.io/posts/smart-roller-shutters%20by%20@gsaslis" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
<!--            <a href="https://www.facebook.com/sharer/sharer.php?u=https://gsaslis.github.io/posts/smart-roller-shutters" title="Share on Facebook" rel="noreferrer noopener" target="_blank">-->
<!--              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>-->
<!--            </a>-->
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script src="https://https-gsaslis-github-io.disqus.com/embed.js" async defer></script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
          
        </article>
        <footer class="footer scrollappear">
  <p>
    Powered by <a href="https://github.com/nielsenramon/chalk" rel="noreferrer noopener" target="_blank" title="Download Chalk">Chalk</a>:
    a Jekyll template, built by <a href="/about" title="About me">Nielsen Ramon</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  

<script src="/assets/vendor-1a8f6e33220f845e569c20b3c09a5d43f87908ea7168ea139ce2135770f7b1b5.js" type="text/javascript"></script>


  <script src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js" type="text/javascript"></script>



  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


</body>
</html>
